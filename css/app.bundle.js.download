function e(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function t(t,n){t.classList?t.classList.add(n):e(t,n)||(t.className+=" "+n)}function n(t,n){t.classList?t.classList.remove(n):e(t,n)&&(t.className=t.className.replace(new RegExp("(\\s|^)"+n+"(\\s|$)")," "))}function o(e){for(var t=[],n=e.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==e&&t.push(n);return t}function i(e,t,n){for(var o=0;o<e.length;o++)t.call(n,o,e[o])}function r(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)}function c(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n)}function u(e,t){var n=e.split("?");if(n.length>=2){for(var o=encodeURIComponent(t)+"=",i=n[1].split(/[&;]/g),r=i.length;r-- >0;)-1!==i[r].lastIndexOf(o,0)&&i.splice(r,1);return n[0]+(i.length>0?"?"+i.join("&"):"")}return e}function a(e){for(var t=e.parentNode.childNodes,n=0,o=0;o<t.length;o++){if(t[o]==e)return n;1==t[o].nodeType&&n++}return-1}function l(e,t,n){var o;return function(){var i=this,r=arguments,c=function t(){o=null,n||e.apply(i,r)},u=n&&!o;clearTimeout(o),o=setTimeout(c,t),u&&e.apply(i,r)}}function s(e){e.preventDefault()}function d(){var e=document.querySelectorAll(".js-media");i(e,function(c){var u,l=e[c].querySelector(".article--runner"),d=l.querySelectorAll(".article--image"),f=l.nextElementSibling.querySelectorAll(".article--control"),m=d.length,g=0,y=d[0];i(f,function(e){var c;r(f[e],"click",function(e){s(e);var r=this,c=a(r),u=o(r),l=d[c],f=o(l);y=l,t(r,"active"),i(u,function(e){n(u[e],"active")}),t(l,"active"),i(f,function(e){n(f[e],"active")})})})})}function f(){return window.innerHeight}function m(){return w.clientHeight}function g(){$=f(),(z=m())<=$+document.querySelector(".footer").clientHeight?t(h,"min-height"):n(h,"min-height")}var y=window,h=document.documentElement,v=document.querySelector("body"),p=h.querySelector(".styles"),S=document.querySelector(".navigation"),q=document.querySelector(".navigation--list"),b=q.querySelectorAll(".navigation--link"),A=document.querySelectorAll(".navigation--image"),w=document.querySelector(".site-container"),T=document.querySelector(".page-background"),k=document.querySelector(".home-container"),x=document.querySelector(".continue"),E=document.querySelector(".home-feed"),L=document.querySelectorAll(".go-home"),H=document.querySelector(".main-typing"),M=document.querySelector(".news-typing"),C,N,O;-1!==window.location.href.indexOf("news")?(t(M,"is-typing"),n(H,"is-typing")):(t(H,"is-typing"),n(M,"is-typing")),document.documentElement.className+="ontouchstart"in document.documentElement?" touch":" no-touch";var R=function e(t){var n=t.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:n.top+i,left:n.left+o}},D=function e(){var t=document.querySelector(".continue");t&&r(t,"click",function(e){s(e),X(this)})},I=function c(){var u=document.querySelectorAll(".home-cat");u&&i(u,function(c){r(u[c],"click",function(r){s(r),F(this),t(this,"active"),e(document.querySelector(".home-cats-container"),"is-open")&&(n(document.querySelector(".home-cats-container"),"is-open"),document.querySelector(".home-cats-container").style.height=document.querySelector(".home-cats-control").clientHeight+"px",document.querySelector(".home-cats-current").innerHTML=this.innerHTML);var c=o(this.parentNode);i(c,function(e){n(c[e].querySelector(".home-cat"),"active")})})})};k&&(x&&D(x),I());var X=function o(r){var c=null,u=document.querySelector(".home-container"),a=r.getAttribute("href"),l=u.getAttribute("data-max"),s=u.querySelector(".home-feed"),d=s.querySelectorAll(".home-item"),f,m=d[d.length-1],g,y,h;if(t(u,"page-loading"),t(r,"page-loading"),null==c&&e(u,"page-loading")&&!e(r,"disabled")){c=!0;var v=new XMLHttpRequest;v.onreadystatechange=function(){200===v.status&&(3===v.readyState&&(C=new DOMParser,N=C.parseFromString(v.responseText,"text/html"),O=N.querySelector(".home-container"),g=O.getAttribute("data-current"),y=O.querySelectorAll(".home-item"),h=O.querySelector(".continue"),y&&(i(y,function(e){s.appendChild(y[e])}),h?g==l?t(r,"disabled"):(r.setAttribute("href",h.getAttribute("href")),a=h.getAttribute("href")):t(r,"disabled"))),4===v.readyState&&(P(),setTimeout(function(){c=null,n(u,"page-loading"),n(r,"page-loading")},1e3)))},v.open("GET",a,!0),v.send()}},F=function o(r){var c=null,u=document.querySelector(".home-container"),a=r.getAttribute("href"),l=u.getAttribute("data-max"),s=u.querySelector(".home-feed"),d=s.querySelectorAll(".home-item"),f=document.querySelector(".continue"),m,g=d[d.length-1],y,h,v;if(t(u,"loading"),f&&t(f,"page-loading"),null==c&&e(u,"loading")){c=!0;var p=new XMLHttpRequest;p.onreadystatechange=function(){200===p.status&&(3===p.readyState&&(C=new DOMParser,N=C.parseFromString(p.responseText,"text/html"),O=N.querySelector(".home-container"),y=O.getAttribute("data-current"),h=O.querySelectorAll(".home-item"),v=O.querySelector(".continue"),setTimeout(function(){s.innerHTML=""},750),setTimeout(function(){h&&(i(h,function(e){s.appendChild(h[e])}),f&&(f&&O.getAttribute("data-max")<=1?t(f,"disabled"):(f.setAttribute("href",v.getAttribute("href")),n(f,"disabled"),n(f,"page-loading"))))},1e3)),4===p.readyState&&(setTimeout(function(){c=null,n(u,"loading")},1e3),D()))},p.open("GET",a,!0),p.send()}},G=function o(i){var r,c=window.location.href;if((r="string"==typeof i?i:i.getAttribute("href"))!==c){t(h,"links-inactive"),-1!==r.indexOf("news")?n(H,"is-typing"):n(M,"is-typing");var u=new XMLHttpRequest;u.onreadystatechange=function(){200===u.status&&3===u.readyState&&(C=new DOMParser,N=C.parseFromString(u.responseText,"text/html"),O=N.querySelector(".site-container"),parserStyles=N.querySelector(".styles"),e(O,"home")?n(h,"do-show"):t(h,"do-show"),p.innerHTML=parserStyles.innerHTML,w.innerHTML=O.innerHTML,h.scrollTop=0,v.scrollTop=0,w.scrollTop=0),4===u.readyState&&(D(),I(),d(),g(),j(),W(),P(),setTimeout(function(){n(h,"links-inactive"),n(h,"going-home"),-1!==r.indexOf("news")?t(M,"is-typing"):t(H,"is-typing"),history.pushState("",i.innerHTML,r)},750))},u.open("GET",r,!0),u.send()}else n(h,"going-home")};window.onpopstate=function(){window.location=location.href},function(){var c=document.querySelector(".header--extra").children,a=u(window.location.href,"ckcachecontrol"),l=q.querySelectorAll(".navigation--item"),d=b.length,f=parseInt(S.getAttribute("data-reset")),m,g,y=location.hash.split("#!/")[1],p=document.getElementById("preloader"),k=1e3,x=!1,E=!0,H=!1,M=!1,C=!1,N=0,O=0;p&&(k=p.getAttribute("data-delay"));var R=function e(){!C&&H&&(++N===f&&(N=0),0===N&&O++,O===d&&(O=0),I())},D=function e(r){var c=l[r],u=c.getAttribute("data-color"),a=c.getAttribute("data-highlight"),s=c.getAttribute("data-bg"),d=c.querySelector(".navigation--link"),f=A[r],m=c.querySelector(".em");n(c,"inactive"),n(f,"inactive"),d.style.color=a,S.style.backgroundColor=s,T.style.backgroundColor=s,i(o(c),function(e){t(o(c)[e],"inactive"),o(c)[e].querySelector(".navigation--link").removeAttribute("style"),o(c)[e].querySelector(".em").removeAttribute("style")}),i(o(f),function(e){t(o(f)[e],"inactive")})},I=function e(){C||D(O)};if(i(c,function(e){var t=c[e];r(t,"click",function(e){t.getAttribute("href")?t.getAttribute("href")==a&&(s(e),F()):F()})}),i(l,function(e){r(l[e],"mouseenter",function(){C=!0,E&&(O=e,D(e))}),r(l[e],"mouseleave",function(){C=!1,E&&D(e)}),r(l[e].querySelector(".navigation--link"),"click",function(t){"_blank"!==l[e].querySelector(".navigation--link").getAttribute("target")&&(E=!1,s(t),F(),G(l[e].querySelector(".navigation--link")))})}),p&&setTimeout(function(){t(h,"loaded")},k),e(v,"home")&&(H=!0,x=!0,t(h,"links-opacity"),"undefined"==typeof loop))var X=window.setInterval(R,k);window.addEventListener("popstate",function(n){s(n),e(h,"navigation-active")&&(x=!1,F()),t(h,"going-home"),setTimeout(function(){G(location.href)},1e3)});var F=function e(o){x?(C=!0,H=!1,M=!1,E=!1,x=!1,i(l,function(e){t(A[e],"inactive")}),h.scrollTop=0,v.scrollTop=0,w.scrollTop=0,setTimeout(function(){n(h,"navigation-active"),T.removeAttribute("style"),void 0!==o&&window.clearInterval(R)},500),setTimeout(function(){n(h,"links-opacity"),S.removeAttribute("style"),i(l,function(e){t(l[e],"inactive"),l[e].querySelector(".navigation--link").removeAttribute("style"),l[e].querySelector(".em").removeAttribute("style")})},1e3)):(x=!0,E=!0,t(h,"navigation-active"))};i(L,function(n){r(L[n],"click",function(n){s(n),e(h,"navigation-active")?(x=!0,F()):t(h,"going-home"),setTimeout(function(){G(L[0])},750)})})}();var P=function o(){var c=document.querySelectorAll(".toggle-newsletter");i(c,function(o){var i=c[o],u=i.parentElement.nextElementSibling,a=u.querySelector('input[type="email"]');r(i,"click",function(){e(u,"active")||(t(u,"active"),setTimeout(function(){a.focus()},500))}),r(a,"focus",function(){e(a,"focused")||t(a,"focused")}),r(a,"blur",function(){e(a,"focused")&&""==a.value&&n(a,"focused")})})};P();var j=function e(){var c=document.querySelector(".menu-container"),u=function e(r,u,l){var s,d=l[a(r)],f=o(r),m=o(d);n(c,"no-active"),t(d,"active"),t(r.querySelector("a"),"active"),i(f,function(e){n(f[e].querySelector("a"),"active")}),i(m,function(e){n(m[e],"active")})},l=function e(o,r){i(o,function(e){n(o[e].querySelector("a"),"active")}),i(r,function(e){n(r[e],"active")}),t(c,"no-active")};if(c){var s=c.querySelectorAll("li"),d=c.querySelectorAll("img");i(s,function(e){r(s[e],"mouseenter",function(){u(s[e],s,d)})}),i(s,function(e){r(s[e],"mouseleave",function(){l(s,d)})})}},B;j(),d(),function e(){var t={strings:H.getAttribute("data-text").split(","),typeSpeed:50,loop:!0,loopCount:1/0,showCursor:!1,backDelay:1500},n={strings:M.getAttribute("data-text").split(","),typeSpeed:50,loop:!0,loopCount:1/0,showCursor:!1,backDelay:1500};if("undefined"!=typeof Typed)var o=new Typed(".main-typing",t),i=new Typed(".news-typing",n)}();var W=function o(){var i=document.querySelector(".home-cats-control"),u=!1;if(i){var a=document.querySelector(".home-cats-container"),l=a.querySelectorAll("li"),s=document.querySelector(".home-cats"),d=function o(){e(a,"is-open")?(n(a,"is-open"),a.style.height=i.clientHeight+"px"):(t(a,"is-open"),a.style.height=i.clientHeight+s.clientHeight+"px")};y.innerWidth<=520?u=!0:(u=!1,a.removeAttribute("style")),r(y,"resize",function(){y.innerWidth<=520?(u=!0,a.style.height=i.clientHeight+"px",r(i,"click",d)):(u=!1,n(a,"is-open"),a.removeAttribute("style"),c(i,"click",d))}),u&&(a.style.height=i.clientHeight+"px",r(i,"click",d))}},$,z;W(),r(window,"load",function(){});